import{_ as h,d as v,k as f,o as n,c as i,F as y,r as $,b as t,t as l,u as S,I as g,j as r,p as I,l as E,m as x,n as N,q as k,s as A,f as p,x as w,w as C,h as d,v as c,i as V}from"./index.35a54684.js";const _=s=>(I("data-v-52307afd"),s=s(),E(),s),B={class:"timeline"},R=["data-date"],q=r(" CGST : "),H=_(()=>t("br",null,null,-1)),O=r(" Transaction Type : "),U=_(()=>t("br",null,null,-1)),M=r(" Due Date : "),F=_(()=>t("br",null,null,-1)),G=r(" Salary Income : \u20B9"),J=_(()=>t("br",null,null,-1)),L=r(" Share Market Income: \u20B9"),j=v({props:{history:null},setup(s){const e=s,u=f([]),m=setInterval(()=>{e.history!==void 0&&(u.value=JSON.parse(JSON.stringify(e.history)),clearInterval(m))},200);return(b,T)=>(n(),i("ul",B,[(n(!0),i(y,null,$(u.value,a=>(n(),i("li",{class:"event","data-date":a.issued_on},[t("h1",null,"Total : \u20B9"+l(a.total),1),t("p",null,[q,t("strong",null,l(a.cgst)+"%",1),H,O,t("strong",null,l(a.transaction_type===S(g)?"Interstate":"Intrastate"),1),U,M,t("strong",null,l(a.due_date),1),F,G,t("strong",null,l(a.salary_income),1),J,L,t("strong",null,l(a.share_market_income),1)])],8,R))),256))]))}});var P=h(j,[["__scopeId","data-v-52307afd"]]);const z=v({name:"EditTaxView",data:()=>({loading:!0,INTERSTATE_TRANSACTION:g,INTRASTATE_TRANSACTION:x,tax:{}}),methods:{async handleEdit(s){this.loading=!0,await N(this.tax.id,this.tax),window.location.reload()}},mounted(){document.title=`Edit Tax ${this.$route.params.id}`,k(this.$route.params.id).then(s=>{this.tax=s,this.$nextTick(()=>{this.loading=!1})})},components:{TaxEditHistory:P}}),D={class:"text-center"},K=t("hr",null,null,-1),Q={key:0,class:"text-center"},W=t("div",{class:"spinner-border text-primary",role:"status"},[t("span",{class:"visually-hidden"},"Loading...")],-1),X=[W],Y={class:"row"},Z={class:"col-sm-12 col-md-12 col-lg-5 mb-sm-4 mb-md-4"},tt=t("h3",null,"Edit History",-1),st={class:"col-sm-12 col-md-12 col-lg-6"},et={class:"col-sm-12 col-md-12 col-lg-12 mb-3"},ot={class:"form-group"},at=t("label",{class:"form-label",for:"tax-payer"},"Tax Payer",-1),lt={required:"",disabled:"",id:"tax-payer",class:"form-select"},nt={selected:""},it={class:"row"},dt={class:"col-sm-12 col-md-12 col-lg-12 mb-3"},rt=t("label",{class:"form-label",for:"cgst"},"Central GST (%)",-1),ct={class:"input-group"},_t=t("div",{class:"input-group-append"},[t("span",{class:"input-group-text"},"%")],-1),ut={class:"col-sm-12 col-md-12 col-lg-6 mb-3"},mt=t("label",{for:"salary_income",class:"form-label"},"Salary income",-1),pt={class:"input-group"},ht=t("div",{class:"input-group-prepend"},[t("span",{class:"input-group-text"},"\u20B9")],-1),vt={class:"col-sm-12 col-md-12 col-lg-6 mb-3"},yt=t("label",{for:"share_market_income",class:"form-label"}," Share market income ",-1),gt={class:"input-group"},bt=t("div",{class:"input-group-prepend"},[t("span",{class:"input-group-text"},"\u20B9")],-1),Tt={class:"col-sm-12 col-md-12 col-lg-6 mb-3"},ft=t("label",{for:"due_date",class:"form-label"},"Due Date",-1),$t={class:"col-sm-12 col-md-12 col-lg-6 mb-3"},St=t("label",{for:"transaction_type",class:"form-label"}," Transaction Type ",-1),It=["value"],Et=["value"],xt={class:"col-sm-12 col-md-12 col-lg-4 offset-lg-4 mt-3"},Nt={class:"d-grid gap-2"},kt=["disabled"];function At(s,e,u,m,b,T){const a=A("TaxEditHistory");return n(),i(y,null,[t("h1",D,"Edit Tax #"+l(s.$route.params.id),1),K,s.loading?(n(),i("div",Q,X)):p("",!0),t("div",Y,[t("div",Z,[tt,w(a,{history:s.tax.history},null,8,["history"])]),t("div",st,[s.loading?p("",!0):(n(),i("form",{key:0,onSubmit:e[6]||(e[6]=C((...o)=>s.handleEdit&&s.handleEdit(...o),["prevent"]))},[t("div",et,[t("div",ot,[at,t("select",lt,[t("option",nt,l(s.tax.payer_name),1)])])]),t("div",it,[t("div",dt,[rt,t("div",ct,[d(t("input",{id:"cgst",type:"number","onUpdate:modelValue":e[0]||(e[0]=o=>s.tax.active_due.cgst=o),class:"form-control"},null,512),[[c,s.tax.active_due.cgst]]),_t])]),t("div",ut,[mt,t("div",pt,[ht,d(t("input",{required:"",type:"number",id:"salary_income",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=o=>s.tax.active_due.salary_income=o)},null,512),[[c,s.tax.active_due.salary_income]])])]),t("div",vt,[yt,t("div",gt,[bt,d(t("input",{required:"",type:"number",id:"share_market_income",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=o=>s.tax.active_due.share_market_income=o)},null,512),[[c,s.tax.active_due.share_market_income]])])]),t("div",Tt,[ft,d(t("input",{required:"",type:"date",id:"due_date",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=o=>s.tax.active_due.due_date=o)},null,512),[[c,s.tax.active_due.due_date]])]),t("div",$t,[St,d(t("select",{required:"",class:"form-select",id:"transaction_type","onUpdate:modelValue":e[4]||(e[4]=o=>s.tax.active_due.transaction_type=o)},[t("option",{value:s.INTERSTATE_TRANSACTION},"Interstate",8,It),t("option",{value:s.INTRASTATE_TRANSACTION},"Intrastate",8,Et)],512),[[V,s.tax.active_due.transaction_type]])]),t("div",xt,[t("div",Nt,[t("button",{type:"submit",class:"btn btn-primary btn-block",disabled:!s.tax.payer||!s.tax.active_due.cgst||!s.tax.active_due.due_date||!s.tax.active_due.salary_income||!s.tax.active_due.share_market_income}," Update Tax #"+l(s.$route.params.id),9,kt),t("button",{type:"button",class:"btn btn-outline-secondary",onClick:e[5]||(e[5]=o=>s.$router.push({name:"home"}))}," Cancel ")])])])],32))])])],64)}var Ct=h(z,[["render",At]]);export{Ct as default};
